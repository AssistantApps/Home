@import "./_slider-generated.sass";

$appIconSize: 50px;

.apps-start-word-slider {
    &::after {
        content: "Assistant for ";
        animation: appsWordSliderStartText #{$appAnimationDuration}s infinite;
        overflow: hidden;
    }
}

.apps-end-word-slider {
    &::after {
        content: "everything!";
        animation: appsWordSliderEndText #{$appAnimationDuration}s infinite;
        overflow: hidden;
    }
}

#banner > .inner .apps-end-word-slider {
    @include breakpoint("<medium") {
        display: block;
    }
}

@keyframes appsWordSliderStartText {
    @for $titleIndex from 1 through length($appStartTitles) {
        $percentageLower: (($titleIndex - 1) * $appAnimationPerc)+1;
        $percentage: ($titleIndex * $appAnimationPerc);

        @if $titleIndex==1 {
            $percentageLower: 0;
        }

        $title: nth($appStartTitles, $titleIndex);

        #{$percentageLower}#{"%"} {
            opacity: 0;
            content: $title;
        }

        #{$percentageLower + $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            content: $title;
        }

        #{$percentage - $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            content: $title;
        }

        #{$percentage}#{"%"} {
            opacity: 0;
            content: $title;
        }
    }
}

@keyframes appsWordSliderEndText {
    @for $titleIndex from 1 through length($appStartTitles) {
        $percentageLower: (($titleIndex - 1) * $appAnimationPerc)+1;
        $percentage: ($titleIndex * $appAnimationPerc);

        @if $titleIndex==1 {
            $percentageLower: 0;
        }

        $title: nth($appEndTitles, $titleIndex);

        #{$percentageLower}#{"%"} {
            opacity: 0;
            content: $title;
        }

        #{$percentageLower + $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            content: $title;
        }

        #{$percentage - $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            content: $title;
        }

        #{$percentage}#{"%"} {
            opacity: 0;
            content: $title;
        }
    }
}

.apps-image-slider {
    width: $appIconSize;
    height: $appIconSize;
    background-image: url($defaultAppImage);
    background-repeat: round;
    animation: appsImageSliderText #{$appAnimationDuration}s infinite;
    border-radius: 5px;

    @include breakpoint("<medium") {
        margin: 0 auto;
    }
}

@keyframes appsImageSliderText {
    @for $imageIndex from 1 through length($appImages) {
        $percentageLower: (($imageIndex - 1) * $appAnimationPerc) + 1;
        $percentage: ($imageIndex * $appAnimationPerc);

        @if $imageIndex==1 {
            $percentageLower: 0;
        }

        $image: nth($appImages, $imageIndex);

        #{$percentageLower}#{"%"} {
            opacity: 0;
            background-image: url($image);
        }

        #{$percentageLower + $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            background-image: url($image);
        }

        #{$percentage - $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            background-image: url($image);
        }

        #{$percentage}#{"%"} {
            opacity: 0;
            background-image: url($image);
        }
    }
}

.apps-screenshot-slider {
    background-image: url($defaultScreenshotImage);
    animation: appsScreenshotSliderAnim #{$appAnimationDuration}s infinite;
    border-radius: 5px;

    @include breakpoint("<medium") {
        margin: 0 auto;
    }
}

.apps-screenshot-slider-frame {
    background-image: url("/assets/img/screenshot-frame.png");
}

.screenshot-stack {
    height: 100%;

    .apps-screenshot-slider-bg,
    .apps-screenshot-slider,
    .apps-screenshot-slider-frame {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-repeat: no-repeat;
        margin: 0 1em;
    }

    .apps-screenshot-slider-bg {
        .assistantapps-logo {
            width: $appIconSize;
            height: $appIconSize;
            background-image: url("/assets/img/logo-sm.png");
            border-radius: 10px;
        }
        .assistantapps-logo:nth-child(1) {
            position: absolute;
            top: 38%;
            left: 27%;
            transform: rotate(-22deg);
            opacity: 1;
        }
        .assistantapps-logo:nth-child(2) {
            position: absolute;
            top: 45%;
            left: 66%;
            transform: rotate(12deg);
        }
    }
}

@keyframes appsScreenshotSliderAnim {
    @for $imageIndex from 1 through length($appScreenshots) {
        $percentageLower: (($imageIndex - 1) * $appAnimationPerc) + 1;
        $percentage: ($imageIndex * $appAnimationPerc);

        @if $imageIndex==1 {
            $percentageLower: 0;
        }

        $image: nth($appScreenshots, $imageIndex);

        #{$percentageLower}#{"%"} {
            opacity: 0;
            background-image: url($image);
        }

        #{$percentageLower + $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            background-image: url($image);
        }

        #{$percentage - $appAnimationGapPerc}#{"%"} {
            opacity: 1;
            background-image: url($image);
        }

        #{$percentage}#{"%"} {
            opacity: 0;
            background-image: url($image);
        }
    }
}
